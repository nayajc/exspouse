<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì „ë°°ìš°ì ìœ í˜• í…ŒìŠ¤íŠ¸ - ë‹¹ì‹ ì˜ ì „ ë°°ìš°ìëŠ” ì–´ë–¤ ìœ í˜•ì¼ê¹Œìš”?</title>
    <meta name="description" content="ì´í˜¼ í›„ ì „ ë°°ìš°ìì˜ ì„±ê²© ìœ í˜•ì„ íŒŒì•…í•˜ê³ , í–¥í›„ ê´€ê³„ ì „ëµì„ ì œì•ˆë°›ì•„ë³´ì„¸ìš”!">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/kakao-js-sdk/1.43.0/kakao.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 32px 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .logo {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .title {
            font-size: 24px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 16px;
            color: #718096;
            line-height: 1.5;
        }

        .progress-container {
            margin-bottom: 24px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .progress-text {
            text-align: center;
            margin-top: 8px;
            font-size: 14px;
            color: #718096;
        }

        .question-container {
            display: none;
        }

        .question-container.active {
            display: block;
        }

        .question-number {
            font-size: 14px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 8px;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 24px;
            line-height: 1.4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 15px;
            text-align: left;
        }

        .option:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
            transform: translateY(-2px);
        }

        .option.selected {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .start-screen {
            text-align: center;
        }

        .start-description {
            font-size: 16px;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 32px;
        }

        .start-button, .next-button, .share-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            margin-top: 20px;
        }

        .start-button:hover, .next-button:hover, .share-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .result-screen {
            display: none;
            text-align: center;
        }

        .result-emoji {
            font-size: 80px;
            margin-bottom: 16px;
        }

        .result-type {
            font-size: 24px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .result-description {
            font-size: 16px;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .result-tips {
            background: #f0f4f8;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            text-align: left;
        }

        .tips-title {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
        }

        .tips-content {
            font-size: 14px;
            color: #4a5568;
            line-height: 1.5;
        }

        .contact-info {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .contact-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .contact-details {
            font-size: 14px;
            opacity: 0.9;
        }

        .share-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .share-button {
            flex: 1;
            font-size: 14px;
            padding: 12px;
        }

        .restart-button {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
            border-radius: 16px;
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            margin-top: 12px;
        }

        .restart-button:hover {
            background: #667eea;
            color: white;
        }

        @media (max-width: 480px) {
            .container {
                padding: 16px;
            }
            
            .card {
                padding: 24px 20px;
            }
            
            .title {
                font-size: 20px;
            }
            
            .question-text {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <!-- ì‹œì‘ í™”ë©´ -->
            <div id="startScreen" class="start-screen">
                <div class="header">
                    <div class="logo">ğŸ’”</div>
                    <h1 class="title">ì „ë°°ìš°ì ìœ í˜• í…ŒìŠ¤íŠ¸</h1>
                    <p class="subtitle">ë‹¹ì‹ ì˜ ì „ ë°°ìš°ìëŠ” ì–´ë–¤ ìœ í˜•ì¼ê¹Œìš”?</p>
                </div>
                <div class="start-description">
                    ì´í˜¼ ë˜ëŠ” ë³„ê±° í›„ ì „ ë°°ìš°ìì˜ ì„±ê²©ê³¼ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬<br>
                    í–¥í›„ ê´€ê³„ ì „ëµì„ ì œì•ˆí•´ë“œë¦½ë‹ˆë‹¤! ğŸ’ª<br><br>
                    <strong>ì´ 8ë¬¸í•­</strong>ìœ¼ë¡œ êµ¬ì„±ëœ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.
                </div>
                <button class="start-button" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸° âœ¨</button>
            </div>

            <!-- ì§„í–‰ë¥  í‘œì‹œ -->
            <div id="progressContainer" class="progress-container" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">1 / 8</div>
            </div>

            <!-- ì§ˆë¬¸ í™”ë©´ -->
            <div id="questionScreen" style="display: none;">
                <div class="question-container active" id="question1">
                    <div class="question-number">Q1.</div>
                    <div class="question-text">ğŸ—£ï¸ ì „ ë°°ìš°ìëŠ” ëŒ€í™”ë¥¼ í•  ë•Œ...</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(1, 'talkative')" data-value="talkative">ì¼ë°©ì ìœ¼ë¡œ ë§í•œë‹¤</div>
                        <div class="option" onclick="selectOption(1, 'pretend')" data-value="pretend">ë“£ëŠ” ì²™ë§Œ í•œë‹¤</div>
                        <div class="option" onclick="selectOption(1, 'avoid')" data-value="avoid">íšŒí”¼í•œë‹¤</div>
                        <div class="option" onclick="selectOption(1, 'discuss')" data-value="discuss">ì°¨ë¶„íˆ ë…¼ì˜í•œë‹¤</div>
                    </div>
                </div>

                <div class="question-container" id="question2">
                    <div class="question-number">Q2.</div>
                    <div class="question-text">ğŸ’¥ ê°ˆë“±ì´ ìƒê¸°ë©´...</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(2, 'shout')" data-value="shout">í°ì†Œë¦¬ë¶€í„° ë‚¸ë‹¤</div>
                        <div class="option" onclick="selectOption(2, 'cut')" data-value="cut">ì—°ë½ì„ ëŠëŠ”ë‹¤</div>
                        <div class="option" onclick="selectOption(2, 'escape')" data-value="escape">í”¼í•œë‹¤</div>
                        <div class="option" onclick="selectOption(2, 'mediate')" data-value="mediate">ì¤‘ì¬ìë¥¼ ì°¾ëŠ”ë‹¤</div>
                    </div>
                </div>

                <div class="question-container" id="question3">
                    <div class="question-number">Q3.</div>
                    <div class="question-text">ğŸ§  ìƒëŒ€ëŠ” ë‚´ ê°ì •ì„...</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(3, 'no_empathy')" data-value="no_empathy">ì „í˜€ ê³µê°í•˜ì§€ ì•Šì•˜ë‹¤</div>
                        <div class="option" onclick="selectOption(3, 'good_empathy')" data-value="good_empathy">ì˜ ê³µê°í–ˆë‹¤</div>
                        <div class="option" onclick="selectOption(3, 'selfish')" data-value="selfish">ìê¸°ì¤‘ì‹¬ì ì´ì—ˆë‹¤</div>
                    </div>
                </div>

                <div class="question-container" id="question4">
                    <div class="question-number">Q4.</div>
                    <div class="question-text">ğŸ’¼ ê²½ì œì  ì±…ì„ì€...</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(4, 'my_burden')" data-value="my_burden">ëŒ€ë¶€ë¶„ ë‚´ê°€ ì¡Œë‹¤</div>
                        <div class="option" onclick="selectOption(4, 'shared')" data-value="shared">ì„œë¡œ ë‚˜ëˆ´ë‹¤</div>
                        <div class="option" onclick="selectOption(4, 'avoided')" data-value="avoided">ê±°ì˜ íšŒí”¼í–ˆë‹¤</div>
                    </div>
                </div>

                <div class="question-container" id="question5">
                    <div class="question-number">Q5.</div>
                    <div class="question-text">ğŸ¼ ì•„ì´ ì–‘ìœ¡ì— ëŒ€í•´...</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(5, 'indifferent')" data-value="indifferent">ë¬´ê´€ì‹¬í–ˆë‹¤</div>
                        <div class="option" onclick="selectOption(5, 'interfere')" data-value="interfere">ê³¼ë„í•˜ê²Œ ê°„ì„­í–ˆë‹¤</div>
                        <div class="option" onclick="selectOption(5, 'cooperative')" data-value="cooperative">ê³µë™ìœ¼ë¡œ ë…¸ë ¥í–ˆë‹¤</div>
                        <div class="option" onclick="selectOption(5, 'neglect')" data-value="neglect">ë°©ì„í•˜ê±°ë‚˜ ë…ë‹¨ì ì´ì—ˆë‹¤</div>
                    </div>
                </div>

                <div class="question-container" id="question6">
                    <div class="question-number">Q6.</div>
                    <div class="question-text">ğŸ¤¥ ê±°ì§“ë§ì´ë‚˜ ìˆ¨ê¹€ í–‰ë™ì€...</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(6, 'frequent')" data-value="frequent">ìì£¼ ìˆì—ˆë‹¤</div>
                        <div class="option" onclick="selectOption(6, 'rare')" data-value="rare">ê±°ì˜ ì—†ì—ˆë‹¤</div>
                        <div class="option" onclick="selectOption(6, 'unknown')" data-value="unknown">ëª°ë¼ì„œ ëª¨ë¥´ê² ë‹¤</div>
                    </div>
                </div>

                <div class="question-container" id="question7">
                    <div class="question-number">Q7.</div>
                    <div class="question-text">ğŸ’¬ ë¬¸ì œ í›„ ì‚¬ê³¼ëŠ”?</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(7, 'no_apology')" data-value="no_apology">ì•ˆ í•œë‹¤</div>
                        <div class="option" onclick="selectOption(7, 'formal')" data-value="formal">í˜•ì‹ì ì´ë‹¤</div>
                        <div class="option" onclick="selectOption(7, 'sincere')" data-value="sincere">ì§„ì‹¬ìœ¼ë¡œ í•œë‹¤</div>
                    </div>
                </div>

                <div class="question-container" id="question8">
                    <div class="question-number">Q8.</div>
                    <div class="question-text">ğŸ§â€â™‚ï¸ ë³¸ì¸ì˜ ê°ì •ì´ë‚˜ ì‚¶ì— ì§‘ì¤‘í•˜ëŠ” ê²½í–¥ì€...</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(8, 'dependent')" data-value="dependent">ì§€ë‚˜ì¹˜ê²Œ ì˜ì¡´ì ì´ì—ˆë‹¤</div>
                        <div class="option" onclick="selectOption(8, 'independent')" data-value="independent">ë…ë¦½ì ì´ì—ˆë‹¤</div>
                        <div class="option" onclick="selectOption(8, 'indifferent')" data-value="indifferent">ë¬´ê´€ì‹¬í–ˆë‹¤</div>
                    </div>
                </div>

                <button class="next-button" id="nextButton" onclick="nextQuestion()" style="display: none;">ë‹¤ìŒ ì§ˆë¬¸</button>
            </div>

            <!-- ê²°ê³¼ í™”ë©´ -->
            <div id="resultScreen" class="result-screen">
                <div class="result-emoji" id="resultEmoji"></div>
                <div class="result-type" id="resultType"></div>
                <div class="result-description" id="resultDescription"></div>
                <div class="result-tips">
                    <div class="tips-title">ğŸ’¡ ëŒ€ì²˜ ì „ëµ</div>
                    <div class="tips-content" id="resultTips"></div>
                </div>
                <div class="contact-info">
                    <div class="contact-title">ğŸ“ ì „ë¬¸ ìƒë‹´</div>
                    <div class="contact-details">ì˜¤ìˆ˜ì§„ ë³€í˜¸ì‚¬<br>02-6953-6325</div>
                </div>
                <div class="share-buttons">
                    <button class="share-button" onclick="shareKakao()">ì¹´ì¹´ì˜¤í†¡ ê³µìœ </button>
                    <button class="share-button" onclick="shareUrl()">ë§í¬ ë³µì‚¬</button>
                </div>
                <button class="restart-button" onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” (ì‹¤ì œ ì•± í‚¤ë¡œ êµì²´í•˜ì„¸ìš”)
        const KAKAO_APP_KEY = 'ae8e67a02449e510a539e1947d38323d'; // ë°œê¸‰ë°›ì€ JavaScript í‚¤ë¡œ êµì²´
        
        if (typeof Kakao !== 'undefined' && KAKAO_APP_KEY !== 'ae8e67a02449e510a539e1947d38323d') {
            Kakao.init(KAKAO_APP_KEY);
        }

        let currentQuestion = 1;
        let answers = {};
        let totalQuestions = 8;

        const resultTypes = {
            avoidant: {
                emoji: "ğŸ­",
                name: "íšŒí”¼í˜• ìŠ¤í€ì§€",
                description: "ê°ì •ì„ í”¼í•˜ê³  í˜„ì‹¤ì„ ë„í”¼í•˜ëŠ” ê²½í–¥ì´ ê°•í•©ë‹ˆë‹¤. ì§ì ‘ì ì¸ ëŒ€í™”ë³´ë‹¤ëŠ” íšŒí”¼ì™€ ì¹¨ë¬µìœ¼ë¡œ ë¬¸ì œë¥¼ ì²˜ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤.",
                tips: "ê°ì •ë³´ë‹¤ëŠ” ë…¼ë¦¬ì  ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ëŒ€í™”í•˜ì„¸ìš”. ê°ì •ì  ì••ë°•ë³´ë‹¤ëŠ” ì‹œê°„ì„ ë‘ê³  ì²œì²œíˆ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì…ë‹ˆë‹¤."
            },
            explosive: {
                emoji: "ğŸ’£",
                name: "ê°ì •í­ë°œí˜• ë¡œì¼“",
                description: "ë¶„ë…¸ì™€ ê°ì •ì˜ ê³¼ì‰ ë°˜ì‘ì„ ë³´ì´ë©°, ê°ˆë“± ìƒí™©ì—ì„œ ê²©ë ¬í•˜ê²Œ ë°˜ì‘í•©ë‹ˆë‹¤. ê°ì • ì¡°ì ˆì— ì–´ë ¤ì›€ì„ ê²ªëŠ” ìœ í˜•ì…ë‹ˆë‹¤.",
                tips: "ëƒ‰ì •í•œ ì¤‘ì¬ìê°€ í•„ìš”í•©ë‹ˆë‹¤. ê°ì •ì´ ê²©í•´ì§ˆ ë•ŒëŠ” ì‹œê°„ì„ ë‘ê³  ì§„ì •ëœ í›„ì— ëŒ€í™”í•˜ì„¸ìš”. ì„œë©´ ì†Œí†µì´ë‚˜ ì œ3ìë¥¼ í†µí•œ ì˜ì‚¬ì†Œí†µì´ ë„ì›€ì´ ë©ë‹ˆë‹¤."
            },
            calculating: {
                emoji: "ğŸ§Š",
                name: "ëƒ‰ì² í•œ ê³„ì‚°í˜•",
                description: "ê°ì • í‘œí˜„ì´ ì ê³  ë§¤ìš° ì´ì„±ì ì…ë‹ˆë‹¤. ëª¨ë“  ê²ƒì„ ë…¼ë¦¬ì™€ ì´ìµì„ ë°”íƒ•ìœ¼ë¡œ íŒë‹¨í•˜ë©°, ê°ì •ì  êµê°ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.",
                tips: "ë°ì´í„°ì™€ ì‚¬ì‹¤ ê¸°ë°˜ì˜ ì ‘ê·¼ì´ ìœ ë¦¬í•©ë‹ˆë‹¤. ê°ì •ì  í˜¸ì†Œë³´ë‹¤ëŠ” êµ¬ì²´ì ì¸ ê³„íšê³¼ í•©ë¦¬ì  ì œì•ˆì„ ì¤€ë¹„í•˜ì„¸ìš”. ë²•ì  ê·¼ê±°ì™€ ëª…í™•í•œ ì¡°ê±´ì´ ì¤‘ìš”í•©ë‹ˆë‹¤."
            },
            impulsive: {
                emoji: "ğŸŒªï¸",
                name: "ì¶©ë™í˜• ë“œë¦¬ë¸”ëŸ¬",
                description: "ê³„íšì„±ì´ ë¶€ì¡±í•˜ê³  ë§ì„ ìì£¼ ë°”ê¿‰ë‹ˆë‹¤. ì¦‰í¥ì ì´ê³  ì¼ê´€ì„±ì´ ì—†ì–´ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ìš´ í–‰ë™ì„ ë³´ì…ë‹ˆë‹¤.",
                tips: "ëª¨ë“  ì•½ì†ê³¼ ëŒ€í™”ëŠ” ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¸°ì„¸ìš”. ì¦ê±° ìë£Œë¥¼ í™•ë³´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë©°, êµ¬ì²´ì ì¸ ì¼ì •ê³¼ ì¡°ê±´ì„ ëª…ì‹œí•œ ì„œë©´ í•©ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤."
            },
            cooperative: {
                emoji: "ğŸŒˆ",
                name: "í˜‘ë ¥í˜• í‰í™”ì£¼ì˜ì",
                description: "ì¡°ìœ¨ì´ ê°€ëŠ¥í•˜ê³  í˜‘ìƒì— ê¸ì •ì ì¸ íƒœë„ë¥¼ ë³´ì…ë‹ˆë‹¤. í‰í™”ë¡œìš´ í•´ê²°ì„ ì„ í˜¸í•˜ë©° ìƒí˜¸ ì´í•´ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤.",
                tips: "ê³µë™ ì–‘ìœ¡ì´ë‚˜ ì¬ì‚° ë¶„í•  í˜‘ì˜ì— ê°€ì¥ ì í•©í•œ ìœ í˜•ì…ë‹ˆë‹¤. ìƒí˜¸ ì¡´ì¤‘ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ëŒ€í™”ì™€ í•©ë¦¬ì  íƒ€í˜‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì¤‘ì¬ ì„œë¹„ìŠ¤ í™œìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤."
            }
        };

        function startTest() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('questionScreen').style.display = 'block';
            updateProgress();
        }

        function selectOption(questionNum, value) {
            answers[questionNum] = value;
            
            // ì„ íƒëœ ì˜µì…˜ ì‹œê°ì  í‘œì‹œ
            const options = document.querySelectorAll(`#question${questionNum} .option`);
            options.forEach(option => option.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // ë‹¤ìŒ ë²„íŠ¼ í‘œì‹œ
            document.getElementById('nextButton').style.display = 'block';
        }

        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                // í˜„ì¬ ì§ˆë¬¸ ìˆ¨ê¸°ê¸°
                document.getElementById(`question${currentQuestion}`).classList.remove('active');
                
                currentQuestion++;
                
                // ë‹¤ìŒ ì§ˆë¬¸ í‘œì‹œ
                document.getElementById(`question${currentQuestion}`).classList.add('active');
                
                // ë‹¤ìŒ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
                document.getElementById('nextButton').style.display = 'none';
                
                updateProgress();
            } else {
                showResult();
            }
        }

        function updateProgress() {
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentQuestion} / ${totalQuestions}`;
        }

        function calculateResult() {
            let scores = {
                avoidant: 0,
                explosive: 0,
                calculating: 0,
                impulsive: 0,
                cooperative: 0
            };

            // ì ìˆ˜ ê³„ì‚° ë¡œì§
            if (answers[1] === 'avoid') scores.avoidant += 2;
            if (answers[1] === 'talkative') scores.explosive += 2;
            if (answers[1] === 'pretend') scores.calculating += 1;
            if (answers[1] === 'discuss') scores.cooperative += 2;

            if (answers[2] === 'shout') scores.explosive += 3;
            if (answers[2] === 'escape') scores.avoidant += 2;
            if (answers[2] === 'cut') scores.impulsive += 2;
            if (answers[2] === 'mediate') scores.cooperative += 3;

            if (answers[3] === 'no_empathy') scores.calculating += 2;
            if (answers[3] === 'selfish') scores.explosive += 1;
            if (answers[3] === 'good_empathy') scores.cooperative += 3;

            if (answers[4] === 'avoided') scores.avoidant += 2;
            if (answers[4] === 'my_burden') scores.calculating += 1;
            if (answers[4] === 'shared') scores.cooperative += 2;

            if (answers[5] === 'indifferent') scores.avoidant += 2;
            if (answers[5] === 'interfere') scores.explosive += 2;
            if (answers[5] === 'cooperative') scores.cooperative += 3;
            if (answers[5] === 'neglect') scores.impulsive += 2;

            if (answers[6] === 'frequent') scores.impulsive += 3;
            if (answers[6] === 'rare') scores.cooperative += 2;
            if (answers[6] === 'unknown') scores.calculating += 1;

            if (answers[7] === 'no_apology') scores.calculating += 2;
            if (answers[7] === 'formal') scores.avoidant += 1;
            if (answers[7] === 'sincere') scores.cooperative += 3;

            if (answers[8] === 'dependent') scores.explosive += 1;
            if (answers[8] === 'independent') scores.calculating += 1;
            if (answers[8] === 'indifferent') scores.avoidant += 2;

            // ê°€ì¥ ë†’ì€ ì ìˆ˜ì˜ ìœ í˜• ë°˜í™˜
            return Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
        }

        function showResult() {
            const resultType = calculateResult();
            const result = resultTypes[resultType];

            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
            
            document.getElementById('resultEmoji').textContent = result.emoji;
            document.getElementById('resultType').textContent = result.name;
            document.getElementById('resultDescription').textContent = result.description;
            document.getElementById('resultTips').textContent = result.tips;
            
            document.getElementById('resultScreen').style.display = 'block';
        }

        function shareKakao() {
            const resultType = calculateResult();
            const result = resultTypes[resultType];
            
            const shareTitle = 'ì „ë°°ìš°ì ìœ í˜• í…ŒìŠ¤íŠ¸ ê²°ê³¼!';
            const shareText = `${result.emoji} ${result.name}\n\n${result.description}`;
            const shareUrl = window.location.href;
            
            // ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ê¸°ëŠ¥ (SDK ì‚¬ìš©)
            if (typeof Kakao !== 'undefined' && Kakao.isInitialized()) {
                Kakao.Share.sendDefault({
                    objectType: 'feed',
                    content: {
                        title: shareTitle,
                        description: shareText,
                        imageUrl: 'https://via.placeholder.com/800x400/667eea/ffffff?text=ğŸ’”+ì „ë°°ìš°ì+ìœ í˜•+í…ŒìŠ¤íŠ¸', // ì‹¤ì œ ì´ë¯¸ì§€ URLë¡œ êµì²´
                        link: {
                            mobileWebUrl: shareUrl,
                            webUrl: shareUrl,
                        },
                    },
                    buttons: [
                        {
                            title: 'ë‚˜ë„ í…ŒìŠ¤íŠ¸í•˜ê¸°',
                            link: {
                                mobileWebUrl: shareUrl,
                                webUrl: shareUrl,
                            },
                        },
                    ],
                });
            } else {
                // ì¹´ì¹´ì˜¤í†¡ ì•±ì´ ì—†ê±°ë‚˜ SDK ì´ˆê¸°í™” ì‹¤íŒ¨ ì‹œ ëŒ€ì²´ ë°©ë²•
                if (navigator.share) {
                    navigator.share({
                        title: shareTitle,
                        text: shareText,
                        url: shareUrl
                    });
                } else {
                    // ì¹´ì¹´ì˜¤í†¡ ìŠ¤í† ë¦¬ ê³µìœ  (ì•± í‚¤ ë¶ˆí•„ìš”)
                    const kakaoStoryUrl = `https://story.kakao.com/share?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareTitle + '\n\n' + shareText)}`;
                    window.open(kakaoStoryUrl, '_blank', 'width=600,height=400');
                }
            }
        }

        function shareUrl() {
            const url = window.location.href;
            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(() => {
                    alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“‹');
                });
            } else {
                // êµ¬ë²„ì „ ë¸Œë¼ìš°ì € ëŒ€ì‘
                const textArea = document.createElement('textarea');
                textArea.value = url;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“‹');
            }
        }

        function restartTest() {
            currentQuestion = 1;
            answers = {};
            
            // ëª¨ë“  ì„ íƒ ì´ˆê¸°í™”
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // ëª¨ë“  ì§ˆë¬¸ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.question-container').forEach(container => {
                container.classList.remove('active');
            });
            
            // ì²« ë²ˆì§¸ ì§ˆë¬¸ í™œì„±í™”
            document.getElementById('question1').classList.add('active');
            
            // í™”ë©´ ì „í™˜
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
        }
    </script>
</body>
</html>
